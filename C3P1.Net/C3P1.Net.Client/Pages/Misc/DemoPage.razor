@page "/misc/demo"
@inject NavBreadcrumbService navBreadcrumb

<PageTitle>C3P1.net/Demo</PageTitle>

<Tabs SelectedTab="@selectedTab" SelectedTabChanged="OnSelectedTabChanged">
    <Items>
        <Tab Name="components">Components</Tab>
        <Tab Name="charts">Charts</Tab>
        <Tab Name="datagrid">Datagrid</Tab>
        <Tab Name="form">Form</Tab>
    </Items>
    <Content>
        <TabPanel Name="components">
            <CardGroup Margin="Margin.Is2.FromBottom">
                <Card>
                    <CardHeader>
                        <CardTitle Size="5">Buttons</CardTitle>
                    </CardHeader>
                    <CardBody>
                        <CardText>
                            <Div>
                                <Button Margin=Margin.Is1.OnAll Color="Color.Primary">Primary</Button>
                                <Button Margin=Margin.Is1.OnAll Color="Color.Secondary">Secondary</Button>
                                <Button Margin=Margin.Is1.OnAll Color="Color.Danger">Danger</Button>
                                <Button Margin=Margin.Is1.OnAll Color="Color.Success">Success</Button>
                                <Button Margin=Margin.Is1.OnAll Color="Color.Info">Info</Button>
                                <Button Margin=Margin.Is1.OnAll Color="Color.Warning">Warning</Button>
                                <Button Margin=Margin.Is1.OnAll Color="Color.Dark">Dark</Button>
                                <Button Margin=Margin.Is1.OnAll Color="Color.Light">Light</Button>
                                <Button Margin=Margin.Is1.OnAll Color="Color.Default">Default</Button>
                                <Button Margin=Margin.Is1.OnAll Color="Color.Link">Link</Button>
                            </Div>
                            <Divider />
                            <Div>
                                <Button Margin=Margin.Is1.OnAll Color="Color.Primary" Size="Size.Small" Outline>Primary</Button>
                                <Button Margin=Margin.Is1.OnAll Color="Color.Secondary" Size="Size.Small" Outline>Secondary</Button>
                                <Button Margin=Margin.Is1.OnAll Color="Color.Danger" Size="Size.Small" Outline>Danger</Button>
                                <Button Margin=Margin.Is1.OnAll Color="Color.Success" Size="Size.Small" Outline>Success</Button>
                                <Button Margin=Margin.Is1.OnAll Color="Color.Info" Size="Size.Small" Outline>Info</Button>
                                <Button Margin=Margin.Is1.OnAll Color="Color.Warning" Size="Size.Small" Outline>Warning</Button>
                                <Button Margin=Margin.Is1.OnAll Color="Color.Dark" Size="Size.Small" Outline>Dark</Button>
                                <Button Margin=Margin.Is1.OnAll Color="Color.Light" Size="Size.Small" Outline>Light</Button>
                                <Button Margin=Margin.Is1.OnAll Color="Color.Default" Size="Size.Small" Outline>Default</Button>
                                <Button Margin=Margin.Is1.OnAll Color="Color.Link" Size="Size.Small" Outline>Link</Button>
                            </Div>
                        </CardText>
                    </CardBody>
                </Card>
                <Card>
                    <CardHeader>
                        <CardTitle Size="5">Inputs</CardTitle>
                    </CardHeader>
                    <CardBody>
                        <CardText>
                            <Div>
                                <TextEdit>TextEdit</TextEdit>
                            </Div>
                            <Div>
                                <MemoEdit>MemoEdit</MemoEdit>
                            </Div>
                            <Div>
                                <NumericEdit TValue="int">NumericEdit (int)</NumericEdit>
                            </Div>
                            <Div>
                                <NumericEdit TValue="double">NumericEdit (double)</NumericEdit>
                            </Div>
                        </CardText>
                    </CardBody>
                </Card>
            </CardGroup>
            <CardGroup Margin="Margin.Is2.FromBottom">
                <Card>
                    <CardHeader>
                        <CardTitle Size="5">Badges</CardTitle>
                    </CardHeader>
                    <CardBody>
                        <Div>
                            <Badge Margin="Margin.Is1.OnAll" Color="Color.Primary">Primary</Badge>
                            <Badge Margin="Margin.Is1.OnAll" Color="Color.Secondary">Secondary</Badge>
                            <Badge Margin="Margin.Is1.OnAll" Color="Color.Danger">Danger</Badge>
                            <Badge Margin="Margin.Is1.OnAll" Color="Color.Success">Success</Badge>
                            <Badge Margin="Margin.Is1.OnAll" Color="Color.Info">Info</Badge>
                            <Badge Margin="Margin.Is1.OnAll" Color="Color.Warning">Warning</Badge>
                            <Badge Margin="Margin.Is1.OnAll" Color="Color.Dark">Dark</Badge>
                            <Badge Margin="Margin.Is1.OnAll" Color="Color.Light">Light</Badge>
                            <Badge Margin="Margin.Is1.OnAll" Color="Color.Default">Default</Badge>
                        </Div>
                        <Divider />
                        <Div>
                            <Badge Margin="Margin.Is1.OnAll" Color="Color.Primary" Pill>Primary</Badge>
                            <Badge Margin="Margin.Is1.OnAll" Color="Color.Secondary" Pill>Secondary</Badge>
                            <Badge Margin="Margin.Is1.OnAll" Color="Color.Danger" Pill>Danger</Badge>
                            <Badge Margin="Margin.Is1.OnAll" Color="Color.Success" Pill>Success</Badge>
                            <Badge Margin="Margin.Is1.OnAll" Color="Color.Info" Pill>Info</Badge>
                            <Badge Margin="Margin.Is1.OnAll" Color="Color.Warning" Pill>Warning</Badge>
                            <Badge Margin="Margin.Is1.OnAll" Color="Color.Dark" Pill>Dark</Badge>
                            <Badge Margin="Margin.Is1.OnAll" Color="Color.Light" Pill>Light</Badge>
                            <Badge Margin="Margin.Is1.OnAll" Color="Color.Default" Pill>Default</Badge>
                        </Div>
                        <Divider />
                        <CardTitle Size="5">Background & TextColor</CardTitle>
                        <Table Bordered>
                            <TableRow>
                                <TableRowCell Background="Background.Primary">Primary</TableRowCell>
                                <TableRowCell TextColor="TextColor.Primary" TextAlignment="TextAlignment.End">Primary</TableRowCell>
                            </TableRow>
                            <TableRow>
                                <TableRowCell Background="Background.Secondary">Secondary</TableRowCell>
                                <TableRowCell TextColor="TextColor.Secondary" TextAlignment="TextAlignment.End">Secondary</TableRowCell>
                            </TableRow>
                            <TableRow>
                                <TableRowCell Background="Background.Danger">Danger</TableRowCell>
                                <TableRowCell TextColor="TextColor.Danger" TextAlignment="TextAlignment.End">Danger</TableRowCell>
                            </TableRow>
                            <TableRow>
                                <TableRowCell Background="Background.Success">Success</TableRowCell>
                                <TableRowCell TextColor="TextColor.Success" TextAlignment="TextAlignment.End">Success</TableRowCell>
                            </TableRow>
                            <TableRow>
                                <TableRowCell Background="Background.Info">Info</TableRowCell>
                                <TableRowCell TextColor="TextColor.Info" TextAlignment="TextAlignment.End">Info</TableRowCell>
                            </TableRow>
                            <TableRow>
                                <TableRowCell Background="Background.Warning" TextColor="TextColor.Black50">Warning</TableRowCell>
                                <TableRowCell TextColor="TextColor.Warning" TextAlignment="TextAlignment.End">Warning</TableRowCell>
                            </TableRow>
                            <TableRow>
                                <TableRowCell Background="Background.Dark">Dark</TableRowCell>
                                <TableRowCell TextColor="TextColor.Dark" TextAlignment="TextAlignment.End">Dark</TableRowCell>
                            </TableRow>
                            <TableRow>
                                <TableRowCell Background="Background.Light" TextColor="TextColor.Black50">Light</TableRowCell>
                                <TableRowCell TextColor="TextColor.Light" TextAlignment="TextAlignment.End">Dark</TableRowCell>
                            </TableRow>
                            <TableRow>
                                <TableRowCell Background="Background.Default">Default</TableRowCell>
                                <TableRowCell TextColor="TextColor.Default" TextAlignment="TextAlignment.End">Default</TableRowCell>
                            </TableRow>
                        </Table>
                    </CardBody>
                </Card>
                <Card>
                    <CardHeader>
                        <CardTitle Size="5">Alerts</CardTitle>
                    </CardHeader>
                    <CardBody>
                        <Div>
                            <Alert Margin="Margin.Is1.OnAll" Color="Color.Primary" Visible>Primary</Alert>
                            <Alert Margin="Margin.Is1.OnAll" Color="Color.Secondary" Visible>Secondary</Alert>
                            <Alert Margin="Margin.Is1.OnAll" Color="Color.Danger" Visible>Danger</Alert>
                            <Alert Margin="Margin.Is1.OnAll" Color="Color.Success" Visible>Success</Alert>
                            <Alert Margin="Margin.Is1.OnAll" Color="Color.Info" Visible>Info</Alert>
                            <Alert Margin="Margin.Is1.OnAll" Color="Color.Warning" Visible>Warning</Alert>
                            <Alert Margin="Margin.Is1.OnAll" Color="Color.Dark" Visible>Dark</Alert>
                            <Alert Margin="Margin.Is1.OnAll" Color="Color.Light" Visible>Light</Alert>
                            <Alert Margin="Margin.Is1.OnAll" Color="Color.Default" Visible>Default</Alert>
                        </Div>
                    </CardBody>
                </Card>
            </CardGroup>
            <Divider />
            <Button Color="Color.Primary" Clicked="MakeErr">Make an error</Button>
        </TabPanel>
        <TabPanel Name="charts">
            <CardGroup Margin="Margin.Is2.FromBottom">
                <Card>
                    <CardHeader>
                        <CardTitle Size="5">LineChart</CardTitle>
                    </CardHeader>
                    <CardBody>
                        <CardText>
                            <Button Color="Color.Primary" Clicked="@(async () => await HandleRedraw())">Redraw</Button>
                            <LineChart @ref="lineChart" TItem="double"/>
                        </CardText>
                    </CardBody>
                </Card>
                <Card>
                    <CardHeader>
                        <CardTitle Size="5">BarChart</CardTitle>
                    </CardHeader>
                    <CardBody>
                        <CardText>
                            <Button Color="Color.Primary" Clicked="@(async () => await HandleRedraw())">Redraw</Button>
                            <BarChart @ref="barChart" TItem="double" />
                        </CardText>
                    </CardBody>
                </Card>
            </CardGroup>
            <CardGroup Margin="Margin.Is2.FromBottom">
                <Card>
                    <CardHeader>
                        <CardTitle Size="5">PieChart</CardTitle>
                    </CardHeader>
                    <CardBody>
                        <CardText>
                            <Button Color="Color.Primary" Clicked="@(async () => await HandleRedraw())">Redraw</Button>
                            <PieChart @ref="pieChart" TItem="double" />
                        </CardText>
                    </CardBody>
                </Card>
                <Card>
                    <CardHeader>
                        <CardTitle Size="5">DoughnutChart</CardTitle>
                    </CardHeader>
                    <CardBody>
                        <CardText>
                            <Button Color="Color.Primary" Clicked="@(async () => await HandleRedraw())">Redraw</Button>
                            <DoughnutChart @ref="doughnutChart" TItem="double" />
                        </CardText>
                    </CardBody>
                </Card>
            </CardGroup>
        </TabPanel>
        <TabPanel Name="datagrid">
            <DataGrid TItem="Book"
                      Data="data"
                      Editable
                      EditMode="@DataGridEditMode.Cell"
                      EditModeOptions="new DataGridEditModeOptions(){ CellEditSelectTextOnEdit = true }"
                      Sortable
                      SortMode="DataGridSortMode.Single"
                      ShowPager
                      ShowPageSizes
                      Resizable
                      Responsive
                      Bordered
                      Hoverable
                      Narrow
                      Groupable
                      ShowGrouping
                      ResizeMode="TableResizeMode.Columns"
                      NewItemCreator="() => new Book(string.Empty, string.Empty, string.Empty, DateOnly.MinValue, string.Empty)">
                <DataGridColumns>
                    <DataGridColumn Field="@nameof(Book.Title)" Caption="Title" Editable></DataGridColumn>
                    <DataGridColumn Field="@nameof(Book.Author)" Caption="Author" Editable Groupable></DataGridColumn>
                    <DataGridColumn Field="@nameof(Book.Isbn)" Caption="Isbn" Editable></DataGridColumn>
                    <DataGridColumn Field="@nameof(Book.PublicationDate)" Caption="Publication Date" Editable></DataGridColumn>
                    <DataGridColumn Field="@nameof(Book.Publisher)" Caption="Publisher" Editable></DataGridColumn>
                    <DataGridCommandColumn PreventRowClick>
                        <NewCommandTemplate>
                            <Button Color="Color.Success" Clicked="@context.Clicked">@context.LocalizationString</Button>
                        </NewCommandTemplate>
                        <EditCommandTemplate>
                            <Button Color="Color.Primary" Clicked="@context.Clicked">@context.LocalizationString</Button>
                        </EditCommandTemplate>
                        <SaveCommandTemplate>
                            <Button Type="ButtonType.Submit" PreventDefaultOnSubmit Color="Color.Primary" Clicked="@context.Clicked">@context.LocalizationString</Button>
                        </SaveCommandTemplate>
                        <DeleteCommandTemplate>
                            <Button Color="Color.Danger" Clicked="@context.Clicked">@context.LocalizationString</Button>
                        </DeleteCommandTemplate>
                        <CancelCommandTemplate>
                            <Button Color="Color.Secondary" Clicked="@context.Clicked">@context.LocalizationString</Button>
                        </CancelCommandTemplate>
                        <ClearFilterCommandTemplate>
                            <Button Color="Color.Warning" Clicked="@context.Clicked">@context.LocalizationString</Button>
                        </ClearFilterCommandTemplate>
                    </DataGridCommandColumn>
                </DataGridColumns>
            </DataGrid>
        </TabPanel>
        <TabPanel Name="form">
            <CardGroup Margin="Margin.Is2.FromBottom">
                <Card Margin="Margin.Is4.FromBottom">
                    <CardHeader>
                        <CardTitle>Basic Example</CardTitle>
                    </CardHeader>
                    <CardBody>
                        <Validations @ref="validationsBasicExampleRef" Mode="ValidationMode.Auto" ValidateOnLoad="false">
                            <Validation Validator="@ValidationRule.IsEmail">
                                <Field>
                                    <FieldLabel>Email address</FieldLabel>
                                    <TextEdit Placeholder="Enter email" />
                                    <FieldHelp>We'll never share your email with anyone else.</FieldHelp>
                                </Field>
                            </Validation>
                            <Validation Validator="@ValidatePassword">
                                <Field>
                                    <FieldLabel>Password</FieldLabel>
                                    <TextEdit Role="TextRole.Password" Placeholder="Password" />
                                </Field>
                            </Validation>

                            <Field>
                                <Check TValue="bool">Remember me?</Check>
                            </Field>
                            <Button Color="Color.Primary" Clicked="SubmitBasicExample">Submit</Button>
                        </Validations>
                    </CardBody>
                </Card>


                <Card Margin="Margin.Is4.FromBottom">
                    <CardHeader>
                        <CardTitle>Horizontal Form</CardTitle>
                    </CardHeader>
                    <CardBody>
                        <Validations @ref="validationsHorizontalFormRef" Mode="ValidationMode.Auto" ValidateOnLoad="false">
                            <Validation Validator="@ValidationRule.IsEmail">
                                <Field Horizontal>
                                    <FieldLabel ColumnSize="ColumnSize.IsFull.OnTablet.Is3.OnDesktop">Email address</FieldLabel>
                                    <FieldBody ColumnSize="ColumnSize.IsFull.OnTablet.Is9.OnDesktop">
                                        <TextEdit Placeholder="Email" />
                                    </FieldBody>
                                </Field>
                            </Validation>
                            <Validation Validator="@ValidatePassword">
                                <Field Horizontal>
                                    <FieldLabel ColumnSize="ColumnSize.IsFull.OnTablet.Is3.OnDesktop">Password</FieldLabel>
                                    <FieldBody ColumnSize="ColumnSize.IsFull.OnTablet.Is9.OnDesktop">
                                        <TextEdit Role="TextRole.Password" Placeholder="Password" @bind-Text="@password" />
                                    </FieldBody>
                                </Field>
                            </Validation>
                            <Validation Validator="@ValidatePassword2">
                                <Field Horizontal>
                                    <FieldLabel ColumnSize="ColumnSize.IsFull.OnTablet.Is3.OnDesktop">Re Password</FieldLabel>
                                    <FieldBody ColumnSize="ColumnSize.IsFull.OnTablet.Is9.OnDesktop">
                                        <TextEdit Role="TextRole.Password" Placeholder="Retype password" />
                                    </FieldBody>
                                </Field>
                            </Validation>
                            <Field Horizontal JustifyContent="JustifyContent.End">
                                <FieldBody ColumnSize="ColumnSize.Is9.Is3.WithOffset">
                                    <Check TValue="bool">Remember me?</Check>
                                </FieldBody>
                            </Field>
                            <Field Horizontal JustifyContent="JustifyContent.End">
                                <FieldBody ColumnSize="ColumnSize.Is9.Is3.WithOffset">
                                    <Button Color="Color.Primary" Clicked="SubmitHorizontalForm">Submit</Button>
                                </FieldBody>
                            </Field>
                        </Validations>
                    </CardBody>
                </Card>
            </CardGroup>
        </TabPanel>
    </Content>
</Tabs>

@code {
    private string selectedTab = "components";

    LineChart<double> lineChart = new();
    BarChart<double> barChart = new();
    PieChart<double> pieChart = new();
    DoughnutChart<double> doughnutChart = new();

    private List<Book> data = new()
    {
        new("Harry Potter and the Sorcerer's Stone", "J.K. Rowling","9780590353427", new(1997,6,26),  "Scholastic Press" ),
        new("To Kill a Mockingbird", "Harper Lee", "9780061120084", new(1960,7,11),  "J.B. Lippincott & Co." ),
        new("The Catcher in the Rye", "J.D. Salinger","9780316769488", new(1951,7,16),  "Little, Brown and Company" ),
        new("The Great Gatsby", "F. Scott Fitzgerald","9780743273565", new(1925,4,10),  "Charles Scribner's Sons" ),
        new("The Lord of the Rings", "J.R.R. Tolkien", "9780544003415", new(1954,7,29), "George Allen & Unwin"),
        new("The Hobbit", "J.R.R. Tolkien", "9780547928227", new(1937,9,21), "George Allen & Unwin"),
        new("The Chronicles of Narnia: The Lion, the Witch, and the Wardrobe", "C.S. Lewis", "9780064471073", new(1950,10,16), "Geoffrey Bles"),
        new("Animal Farm", "George Orwell", "978451219811", new(1945,8,17), "Secker & Warburg"),
        new("The Adventures of Huckleberry Finn", "Mark Twain", "9780142437254", new(1884,12,10), "Chatto & Windus"),
        new("The Diary of a Young Girl", "Anne Frank", "9780385473788", new(1947,6,25), "Doubleday"),
        new("The Hunger Games", "Suzanne Collins", "9780439023481", new(2008,9,14), "Scholastic Press"),
        new("The Maze Runner", "James Dashner", "9780385737965", new(2009,10,6), "Delacorte Press"),
        new("The Secret Life of Bees", "Sue Monk Kidd", "9780670034852", new(2002,5,5), "Viking Press"),
        new("The Strange Case of Dr. Jekyll and Mr. Hyde", "Robert Louis Stevenson", "9781593080171", new(1886,1,5), "Longmans, Green and Co"),
        new("Harry Potter and the Chamber of Secrets", "J.K. Rowling", "9780439064866", new(1998,7,2), "Scholastic Press"),
        new("Harry Potter and the Prisoner of Azkaban", "J.K. Rowling", "9780439136365", new(1999,7,8), "Scholastic Press"),
        new("Catching Fire", "Suzanne Collins", "9780439023498", new(2009,9,1), "Scholastic Press"),
        new("Mockingjay", "Suzanne Collins", "9780439023528", new(2010,8,24), "Scholastic Press"),
        new("The Children of Hurin", "J.R.R. Tolkien", "9780544003422", new(2007,4,17), "Houghton Mifflin Harcourt"),
        new("Beren and Luthien", "J.R.R. Tolkien", "9780544116813", new(2017,5,23), "Houghton Mifflin Harcourt")
    };

    private record Book(string Title, string Author, string Isbn, DateOnly PublicationDate, string Publisher);

    private Task OnSelectedTabChanged(string tab)
    {
        selectedTab = tab;
        return Task.CompletedTask;
    }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
            await HandleRedraw();
    }

    protected override void OnInitialized()
    {
        // set navbreadcrumb
        navBreadcrumb.SetBreadcrumbs(new List<Node>()
        {
            new Node {Text = "Home", Link = "" },
            new Node {Text = "Demo", Link = "misc/demo", Active = true }
        });

        base.OnInitialized();
    }

    async Task HandleRedraw()
    {
        await lineChart.Clear();
        await lineChart.AddLabelsDatasetsAndUpdate(Labels, GetLineChartDataset());

        await barChart.Clear();
        await barChart.AddLabelsDatasetsAndUpdate(Labels, GetBarChartDataset());

        await pieChart.Clear();
        await pieChart.AddLabelsDatasetsAndUpdate(Labels, GetPieChartDataset());

        await doughnutChart.Clear();
        await doughnutChart.AddLabelsDatasetsAndUpdate(Labels, GetDoughnutChartDataset());

        //await 
    }

    private LineChartDataset<double> GetLineChartDataset()
    {
        return new LineChartDataset<double>
            {
                Label = "# of randoms",
                Data = RandomizeData(),
                BackgroundColor = backgroundColors,
                BorderColor = borderColors,
                Fill = true,
                PointRadius = 3,
                CubicInterpolationMode = "monotone",
            };
    }
    private BarChartDataset<double> GetBarChartDataset()
    {
        return new()
            {
                Label = "# of randoms",
                Data = RandomizeData(),
                BackgroundColor = backgroundColors,
                BorderColor = borderColors,
                BorderWidth = 1
            };
    }
    private PieChartDataset<double> GetPieChartDataset()
    {
        return new()
            {
                Label = "# of randoms",
                Data = RandomizeData(),
                BackgroundColor = backgroundColors,
                BorderColor = borderColors,
                BorderWidth = 1
            };
    }

    private DoughnutChartDataset<double> GetDoughnutChartDataset()
    {
        return new()
            {
                Label = "# of randoms",
                Data = RandomizeData(),
                BackgroundColor = backgroundColors,
                BorderColor = borderColors,
                BorderWidth = 1
            };
    }


    string[] Labels = { "Red", "Blue", "Yellow", "Green", "Purple", "Orange", "Red", "Blue", "Yellow", "Green", "Purple", "Orange" };
    List<string> backgroundColors = new List<string> { ChartColor.FromRgba(255, 99, 132, 0.2f), ChartColor.FromRgba(54, 162, 235, 0.2f), ChartColor.FromRgba(255, 206, 86, 0.2f), ChartColor.FromRgba(75, 192, 192, 0.2f), ChartColor.FromRgba(153, 102, 255, 0.2f), ChartColor.FromRgba(255, 159, 64, 0.2f) };
    List<string> borderColors = new List<string> { ChartColor.FromRgba(255, 99, 132, 1f), ChartColor.FromRgba(54, 162, 235, 1f), ChartColor.FromRgba(255, 206, 86, 1f), ChartColor.FromRgba(75, 192, 192, 1f), ChartColor.FromRgba(153, 102, 255, 1f), ChartColor.FromRgba(255, 159, 64, 1f) };

    List<double> RandomizeData()
    {
        var r = new Random(DateTime.Now.Millisecond);

        return new List<double> {
            r.Next( 3, 50 ) * r.NextDouble(),
            r.Next( 3, 50 ) * r.NextDouble(),
            r.Next( 3, 50 ) * r.NextDouble(),
            r.Next( 3, 50 ) * r.NextDouble(),
            r.Next( 3, 50 ) * r.NextDouble(),
            r.Next( 3, 50 ) * r.NextDouble(),
            r.Next( 3, 50 ) * r.NextDouble(),
            r.Next( 3, 50 ) * r.NextDouble(),
            r.Next( 3, 50 ) * r.NextDouble(),
            r.Next( 3, 50 ) * r.NextDouble(),
            r.Next( 3, 50 ) * r.NextDouble(),
            r.Next( 3, 50 ) * r.NextDouble() };
    }


    void MakeErr()
    {
        throw new Exception("Test error");
    }

    string? password;
    Validations? validationsBasicExampleRef;
    Validations? validationsHorizontalFormRef;
    void ValidatePassword(ValidatorEventArgs e)
    {
        e.Status = Convert.ToString(e.Value)?.Length >= 6 ? ValidationStatus.Success : ValidationStatus.Error;
    }

    void ValidatePassword2(ValidatorEventArgs e)
    {
        var password2 = Convert.ToString(e.Value);

        if (password2?.Length < 6)
        {
            e.Status = ValidationStatus.Error;
            e.ErrorText = "Password must be at least 6 characters long!";
        }
        else if (password2 != password)
        {
            e.Status = ValidationStatus.Error;
        }
        else
        {
            e.Status = ValidationStatus.Success;
        }
    }

    async Task SubmitBasicExample()
    {
        if (await validationsBasicExampleRef!.ValidateAll())
        {
            await validationsBasicExampleRef.ClearAll();
        }
    }

    async Task SubmitHorizontalForm()
    {
        if (await validationsHorizontalFormRef!.ValidateAll())
        {
            await validationsHorizontalFormRef.ClearAll();
        }
    }
}
